<aside [class]="sidebarClasses()" class="sidebar">
  <!-- Header Section with User Info -->
  <div class="w-full flex flex-col items-center mb-6">
    <!-- User Avatar (Always visible) -->
    <div class="user-avatar">
      U
    </div>

    @if (!isCollapsed()) {
      <!-- User Email (Only when expanded) -->
      <div class="text-center">
        <div class="text-gray-900 dark:text-gray-100 font-medium text-sm">Usuario ORCA</div>
        <div class="text-gray-500 dark:text-gray-400 text-xs">admin&#64;orca.sns</div>
      </div>
    }
  </div>
  <div class="w-full h-px bg-zinc-200 dark:bg-zinc-700 mb-6"></div>

  <!-- Navigation Menu -->
  @if (isCollapsed()) {
    <!-- Collapsed state: Use MenuItemComponent for each item -->
    <div class="flex flex-col px-3 gap-2 flex-1 w-full items-center">
      @for (item of menuConfig().items; track item.name + item.routerLink) {
        <orca-menu-item
          [item]="item"
          [isCollapsed]="true"
          (itemClick)="onItemClick($event)"
          (menuToggle)="onMenuToggle($event)"
        />
      }
    </div>
  } @else {
    <!-- Expanded state: Show PanelMenu -->
    <div class="flex flex-col px-3 gap-2 flex-1 w-full">
      <p-panelmenu
        [model]="panelMenuItems()"
        class="w-full bg-transparent border-none"
      ></p-panelmenu>
    </div>
  }

  <!-- Footer Section -->
  <div class="w-full mt-auto">
    <div class="flex flex-col gap-2 items-center">
      <!-- Settings Button -->
      <div
        class="sidebar-action-button"
        [class]="isCollapsed() ? 'w-12 justify-center py-4' : 'px-4 py-1'"
        [pTooltip]="isCollapsed() ? 'Configuración' : ''"
        tooltipPosition="right"
      >
        <i class="pi pi-cog sidebar-icon"></i>
        @if (!isCollapsed()) {
          <span>・</span>
          <span>Configuración</span>
        }
      </div>

      <!-- Divider between Settings and Logout -->
      <div class="w-full h-px bg-zinc-200 dark:bg-zinc-700"></div>

      <!-- Logout Button -->
      <div
        class="sidebar-logout-button"
        [class]="isCollapsed() ? 'w-12 justify-center py-4' : 'px-4 py-1'"
        (click)="handleLogout()"
        (keyup.enter)="handleLogout()"
        [pTooltip]="isCollapsed() ? 'Cerrar sesión' : ''"
        tooltipPosition="right"
        tabindex="0"
        role="button"
        aria-label="Cerrar sesión"
      >
        <i class="pi pi-power-off sidebar-icon"></i>
        @if (!isCollapsed()) {
          <span>・</span>
          <span>Cerrar sesión</span>
        }
      </div>
    </div>
  </div>
</aside>
